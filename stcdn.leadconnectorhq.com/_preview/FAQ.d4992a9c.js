import{d as F,r as v,o as H,c as u,J as P,a as i,b as c,i as p,F as $,k as B,n as y,e as d,f as r,l as N,p as V,m as Q,h as R,W as S,j}from"./entry.7aa2e1a5.js";import{u as D,m as h,e as _}from"./constants.fdd6dcf3.js";import{g as G}from"./HLConst.414de9c2.js";import{_ as J}from"./HLImage.vue.e5c82ddb.js";const W={class:"hl-faq"},K=["onClick"],U={class:"hl-faq-child-head"},X={key:0,class:"hl-faq-child-heading-icon left fa"},Y=["innerHTML"],Z={key:0,class:"hl-faq-child-heading-icon right fa"},ee=["innerHTML"],ae=["onClick","src"],ce=F({__name:"FAQ",props:{element:{type:Object,required:!0}},setup(T){var A;const o=T,{$bus:M}=j(),x=(A=D().value)==null?void 0:A.imageOptimizationEnabled,f=v(!1),l=v([]),C=v([]),I=v([]);(()=>{const s=o.element.extra.faqCustomOptions.value.firstItemOpen;o.element.extra.faqList.value.map((n,e)=>{const a={};a.id=n.id,a.image=n.image,a.showImage=n.showImage,a.compression=n.compression,e===0&&s?a.active=!0:a.active=!1,a.showImage&&!f.value&&(f.value=!0),a.heading=h(n.heading),a.text=h(n.text),l.value.push(a)})})(),H(()=>{const s=o.element.extra.faqCustomOptions.value.firstItemOpen,n=o.element.extra.faqList.value.map((e,a)=>{const t={};return t.id=e.id,t.image=e.image,t.showImage=e.showImage,t.compression=e.compression,a===0&&s?t.active=!0:t.active=!1,t.showImage&&!f.value&&(f.value=!0),t.heading=h(e.heading),t.text=h(e.text),C.value[a].innerHTML=t.heading,I.value[a].innerHTML=t.text,t});l.value=n});const w=s=>{M.$emit("open-faq-popup",{url:s.image?s.image:g,imageOptimizationEnabled:_(s.compression)})},b=s=>{s.active=!s.active,k(s)},k=s=>{const n=l.value;if(!q.value){const e=n.map(a=>(a.id!==s.id&&(a.active=!1),a));l.value=e}},E=()=>{const s=l.value,e=!!(s.findIndex(t=>!t.active)>-1),a=s.map(t=>(t.active=e,t));l.value=a},m=u(()=>o.element.extra.faqType.value),g=u(()=>G),O=u(()=>o.element.extra.faqCustomOptions.value.iconPosition),q=u(()=>o.element.extra.faqCustomOptions.value.expandAll),z=u(()=>o.element.extra.faqCustomOptions.value.expandAllToggle),L=u(()=>o.element.extra.faqCustomOptions.value.showImagePopup);return P(()=>q.value,s=>{if(!s){const n=l.value[0];n.active=!0,k(n)}}),(s,n)=>(i(),c("div",W,[q.value&&z.value?(i(),c("button",{key:0,class:"expand-collapse-all-button my-2",onClick:E}," Expand/Collapse All ")):p("",!0),(i(!0),c($,null,B(r(l),(e,a)=>(i(),c("div",{class:y(["hl-faq-child",{active:e.active,"faq-contained-child":m.value==="contained","faq-simple-child":m.value==="simple","faq-separated-child":m.value==="separated"}]),key:a},[d("div",{class:y(["hl-faq-child-heading",{active:e.active}]),onClick:t=>b(e)},[d("div",U,[O.value=="left"?(i(),c("i",X)):p("",!0),d("span",{ref_for:!0,ref:t=>r(C)[a]=t,class:"hl-faq-child-heading-text",innerHTML:e.heading},null,8,Y)]),O.value=="right"?(i(),c("i",Z)):p("",!0)],10,K),N(S,null,{default:V(()=>[d("div",{style:Q({height:e.active?"auto":"0",padding:e.active?void 0:"0",opacity:e.active?"1":"0"}),class:"hl-faq-child-panel"},[d("span",{ref_for:!0,ref:t=>r(I)[a]=t,class:"hl-faq-child-item-text item-text",innerHTML:e.text},null,8,ee),e.showImage&&!r(_)(e==null?void 0:e.compression,r(x))?(i(),c("img",{key:0,onClick:t=>L.value?w(e):void 0,class:"item-img",src:e.image?e.image:g.value,alt:"FAQ image"},null,8,ae)):p("",!0),e.showImage&&r(_)(e==null?void 0:e.compression,r(x))?(i(),R(J,{key:1,onClick:t=>L.value?w(e):void 0,class:"item-img",url:e.image?e.image:g.value,size:320,alt:"FAQ image"},null,8,["onClick","url"])):p("",!0)],4)]),_:2},1024)],2))),128))]))}});export{ce as default};
