import{d as kt,r as f,c as Se,o as Ot,a as S,b as O,f as E,n as Ze,e as $,i as x,t as Q,m as ce,l as Ee,w as xt,v as Ct,Q as Rt,h as Lt,F as Nt,q as Oe,s as xe,P as Mt,B as ne,x as At,j as Ut}from"./entry.7aa2e1a5.js";import{_ as Ft}from"./payment-warning.50b08a8f.js";import{u as $t,b as Bt,m as we,c as Dt,am as de,a9 as Y,f as je,h as Qe,w as Ye,an as Vt,P as fe,N as _e,G as he,ao as Xe,O as Ht}from"./constants.fdd6dcf3.js";import{S as P,E as me,b as qt}from"./index.cedd68c7.js";import{t as Jt,f as zt}from"./funnel_event_helper.f5b0341a.js";import{F as et}from"./FunnelServices.02f21e86.js";import{h as Gt,f as Te,g as Wt,a as Kt,c as Zt,b as jt}from"./orderform_helpers.b5fb0a87.js";import{p as Qt}from"./pure.9cabf600.js";import{u as Yt}from"./useRedirectAction.a3a1c86f.js";import{P as A,C as tt,s as ke,S as Xt,b as at,c as rt,N as nt,A as st}from"./HLConst.414de9c2.js";import{_ as ea}from"./MoonLoader.vue.c1bbe5d6.js";import"./HLImage.vue.e5c82ddb.js";import"./client-only.05a9659f.js";import"./components.8ae79ce2.js";import"./HtmlPreview.vue.e8d004fa.js";import"./utils.9a867117.js";import"./index.43b90d3f.js";import"./am_helper.d0963b12.js";import"./currency_helper.ed08bd45.js";const ta=Oe(()=>xe(()=>import("./Recaptcha.de5ff8dc.js"),[],import.meta.url).then(v=>v.default||v)),aa=Oe(()=>xe(()=>import("./PaymentElementComponent.72ffae94.js"),["./ghl-payment-element.eff750d1.css","./PaymentElementComponent.3a186e73.css"],import.meta.url).then(v=>v.default||v)),ra=Oe(()=>xe(()=>import("./PaymentElementModal.a4239996.js"),["./ghl-payment-element.eff750d1.css","./PaymentElementModal.239d302f.css"],import.meta.url).then(v=>v.default||v)),na=["id","href","target","rel","data-animation-class","aria-label"],sa={key:0,style:{"margin-right":"5px"},class:"button-icon-start"},oa={class:"main-heading-button"},la={key:1,style:{"margin-left":"5px"},class:"button-icon-end"},ia={class:"sub-heading-button"},ua={key:1,class:"recaptcha-container button-recaptcha-container"},ca={key:0},da=["disabled","data-animation-class","id","aria-label"],ma={key:0,class:"button-icon-start"},va={class:"main-heading-button"},pa={key:1,class:"button-icon-end"},ya={class:"sub-heading-button"},fa={class:"btn-loader-position",style:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}},_a={key:0},ha=["id"],ga={key:0,class:"card-el-error-msg"},Pa=$("img",{src:Ft,alt:"alert"},null,-1),Ia={key:3,class:"card-el-error-msg error-message",style:{"justify-content":"center"}},ba={inheritAttrs:!1},Ha=kt({...ba,__name:"Button",props:{element:{type:Object,required:!0},classStyles:{type:Array,required:!0}},setup(v){var He,qe,Je,ze,Ge,We,Ke;const d=v,a=$t(),{openPopup:ot}=qt(),Ce=Bt(d.element),{call:lt,createMembershipToken:Re,mailTo:it,sms:ut,goToNextFunnelStep:se,openUrl:ge,getNextFunnelStepURL:ct,goToStep:dt}=Yt(),mt=Ut(),{$bus:Le}=mt;let X=(qe=(He=d.element.extra)==null?void 0:He.text)==null?void 0:qe.value;X=we(X);let ee=(ze=(Je=d.element.extra)==null?void 0:Je.subText)==null?void 0:ze.value;ee=we(ee);const vt=a.value.funnelId,pt=a.value.stepId,yt=a.value.funnelPageId,g=a.value.locationId,D=(Ke=(We=(Ge=d.element.extra)==null?void 0:Ge.productId)==null?void 0:We.value)==null?void 0:Ke.id,_=f(!1),ve=f(!1),Pe=f(""),Ie=f(""),b=f(),Ne=f(!1),be=f(""),te=f(""),C=f(!1),ft=Se(()=>{var e;return((e=b.value)==null?void 0:e.price.type)==="recurring"}),m=f(),R=f(""),oe=f(!1),V=f(),le=f(""),Me=f(!1),U=f(!0),H=f(),Ae=Mt(),Ue=f(),G=f({mode:"payment",amount:0,currency:"",contact:{id:"",full_name:"",email:"",phone:"",shippingAddress:{city:"",state:"",country:"",zipCode:"",line1:""}}}),pe=f(),ye=f(),N=f({mode:"payment",amount:0,currency:"usd",enableBNPL:!0,paymentMethodConfiguration:a.value.isLivePaymentMode?Ae.public.STRIPE_DEFAULT_CONFIGURATION_LIVE:Ae.public.STRIPE_DEFAULT_CONFIGURATION_TEST}),Fe=f(""),W=f(!1),{action:{value:K},visitWebsite:{value:B}}=d.element.extra,q=Se(()=>{var e;return((e=a.value.paymentProviderDetails)==null?void 0:e.provider)===A.CUSTOM_PROVIDER&&!!a.value.customProviderPublishableKey&&K===P.SELL_PRODUCT}),_t=async e=>{e.type==="ready"?(U.value=!1,H.value="",_.value=!1):e.type==="processing"?(C.value=!0,H.value=""):e.type==="error"?(e.message==="Request failed with status code 429"?(V.value=void 0,oe.value=!0):H.value=e.message,C.value=!1,U.value=!1):e.type==="success"?(H.value="",C.value=!1,await ht(e)):e.type==="close"&&(H.value="Payment cancelled",C.value=!1,U.value=!1)},ht=async e=>{try{let t=localStorage.getItem("_ud");t&&(t=JSON.parse(t));const{paymentResponseData:o}=await Gt(t,e.data,e.provider,g);await ie(o)}catch(t){H.value=t}finally{sessionStorage.removeItem("orderResponse"),sessionStorage.removeItem("contactResponse")}},$e=()=>{const e=(X??"")+" "+(ee??"");if(X||ee)return e;if(K===P.GO_TO_URL){const{visitWebsite:{value:t}}=d.element.extra;return t==null?void 0:t.url}return e},gt=e=>{if(!e){le.value="Verification failed! Please try again";return}le.value="",V.value=e},Be=[P.CLICK_TO_CALL,P.CLICK_TO_SMS,P.GO_TO_URL,P.GO_TO_STEP];Be.includes(K)&&(ve.value=!0,Dt(B==null?void 0:B.url)||(Pe.value=Ve())),Ot(()=>{Be.includes(K)&&(ve.value=!0,Pe.value=Ve()),a.value.orderFormVersion===2&&D&&K===P.SELL_PRODUCT&&(Pt(),pe.value=JSON.parse(localStorage.getItem("_ud")||"{}").country)});async function Pt(){var e,t,o,i,u,c,s,h,p,y;try{const n=await et.findProductById({productId:D}),w=(e=n==null?void 0:n.price)==null?void 0:e.setupFee,M=(t=n==null?void 0:n.price)==null?void 0:t.trialPeriod,I=(o=n==null?void 0:n.price)==null?void 0:o.amount,T=w?M?w:I+w:M?0:I;n.amount=T,b.value={...n,qty:1,amount:n.amount},te.value=(i=n==null?void 0:n.price)==null?void 0:i.currency,G.value.amount=b.value.amount,G.value.currency=te.value,G.value.mode=((u=b.value)==null?void 0:u.price.type)==="recurring"?"subscription":"payment",G.value.productDetails=[{productId:(c=n==null?void 0:n.product)==null?void 0:c._id,priceId:(s=n==null?void 0:n.price)==null?void 0:s._id}],N.value.amount=b.value.amount,N.value.currency=te.value.toLowerCase(),((h=b.value)==null?void 0:h.price.type)==="recurring"?N.value.mode="subscription":b.value.amount?N.value.mode="payment":(N.value.mode="setup",N.value.amount=void 0);let r=localStorage.getItem("_ud");r&&(r=JSON.parse(r),G.value.contact={id:r==null?void 0:r.id,full_name:r==null?void 0:r.full_name,email:r==null?void 0:r.email,phone:r==null?void 0:r.phone,shippingAddress:{city:r==null?void 0:r.city,state:ye.value,country:r==null?void 0:r.country,zipCode:r==null?void 0:r.postal_code,line1:r==null?void 0:r.address1}}),setTimeout(()=>{Me.value=!0},1e3)}catch(n){const w=((y=(p=n==null?void 0:n.response)==null?void 0:p.data)==null?void 0:y.message)||(n==null?void 0:n.message)||"Not able to fetch products!";console.error(w),alert("Not able to fetch products!")}}async function It(){var t,o,i,u,c,s,h,p,y,n,w,M,I,T,r,J;const{action:e}=d.element.extra;switch(e.value){case"openPopup":{Jt(a.value.stepId),ot();break}case"url":{const{visitWebsite:l}=d.element.extra;ge(l.value);break}case P.SHOW_HIDE_ELEMENT:{const{hideElements:l,showElements:L}=d.element.extra;Qe(l.value),je(L.value);break}case P.HIDE_ELEMENT:{const{hideElements:l}=d.element.extra;Qe(l.value);break}case P.SHOW_ELEMENT:{const{showElements:l}=d.element.extra;je(l.value);break}case"scroll-to-element":{const{scrollToElement:l}=d.element.extra;Le.$emit("scroll-to-element",l.value);break}case"go-to-next-funnel-step":{_.value=!0,se();break}case P.GO_TO_STEP:{_.value=!0,se(d.element.extra.stepPath.value);break}case"sell-product":{if(_.value)return;_.value=!0;const l=`_pl_${a.value.funnelId}`,L=localStorage.getItem(l);let k;if(L&&(k=JSON.parse(L)),a.value.orderFormVersion===2){const re=ne("provider").value;if(b.value.amount===0){const F=De();if(!F)return;const Z=await Te(g,F);if(Z.paymentProvider==="free-checkout"||!a.value.requireCreditCard){const j={altId:a.value.locationId,altType:"location",source:{type:a.value.pageType===de.FUNNEL?de.FUNNEL:de.WEBINAR?de.WEBINAR:de.WEBSITE,id:a.value.funnelId,name:a.value.funnelName},products:[{id:b.value._id,qty:1}]},z=await Y.getAmountSummary(j);if(Z.paymentProvider==="free-checkout"&&((t=b.value)==null?void 0:t.price.type)==="recurring"&&((o=z.recurringSummary)==null?void 0:o.subtotalWithDiscount)>0){await ae(),W.value=!0;return}else{await ae(),C.value=!1,await ie({});return}}}if(b.value.amount>0&&ne("provider").value!=="pp"){const F=De();if(!F)return;if((await Te(g,F)).paymentProvider==="free-checkout"){await ae(),W.value=!0;return}}if(re===A.CUSTOM_PROVIDER&&(k!=null&&k.manualPaymentMethodId)){ue(tt,k==null?void 0:k.manualPaymentMethodId);return}if(ne("provider").value==="pp"){Ne.value=!0,ue(at);return}else{if((((u=(i=a.value)==null?void 0:i.paymentProviderDetails)==null?void 0:u.provider)===A.AUTHORIZE_NET||((s=(c=a.value)==null?void 0:c.paymentProviderDetails)==null?void 0:s.provider)===A.WHITE_LABEL&&((p=(h=a.value)==null?void 0:h.paymentProviderDetails)==null?void 0:p.whiteLabelProvider)===A.AUTHORIZE_NET)&&a.value.merchantLoginId){ue(st);return}else if((((n=(y=a.value)==null?void 0:y.paymentProviderDetails)==null?void 0:n.provider)===A.NMI||((M=(w=a.value)==null?void 0:w.paymentProviderDetails)==null?void 0:M.provider)===A.WHITE_LABEL&&((T=(I=a.value)==null?void 0:I.paymentProviderDetails)==null?void 0:T.whiteLabelProvider)===A.NMI)&&a.value.nmiMerchantGatewayId){ue(nt);return}else if(((J=(r=a.value)==null?void 0:r.paymentProviderDetails)==null?void 0:J.provider)===A.SQUARE&&a.value.squareMerchantGatewayId){ue(rt);return}else if(q.value){await Tt(A.CUSTOM_PROVIDER);return}const F=a.value.stripePublishableKey,Z=a.value.stripeAccountId,j=a.value.stripePublishableKey;if(F&&j)be.value=await Qt.loadStripe(F,{stripeAccount:Z||void 0});else{alert("Stripe account not found!");return}bt()}}else St();break}case"click-to-call":{const l=d.element.extra;lt(l[me.PHONE_NUMBER].value);break}case"click-to-sms":{const l=d.element.extra;ut(l[me.PHONE_NUMBER].value);break}case"click-to-mail":{const l=d.element.extra;it(l[me.EMAIL_ADDRESS].value);break}case P.GO_TO_MEMBERSHIP:{try{let l;const L=a.value.locationId,{ct:k,previewUrl:re}=ne(`_mf_${L}`).value;location.hostname==="localhost"?l=`http://localhost:4040/library/?domain=${re}&token=${k}&location_id=${L}`:l=`${re}/library?&token=${k}&location_id=${L}`,ge({url:l,newTab:!1})}catch{alert("Sorry something went wrong.")}break}default:console.error(`Invalid action type received: ${e.value}`)}}const De=()=>{let e=localStorage.getItem("_ud");e&&(e=JSON.parse(e),sessionStorage.setItem("contactResponse",JSON.stringify(e)));const t=e==null?void 0:e.customer_id;if(!t){R.value="Contact not found!";return}return t};function ie(e){var t,o,i,u,c,s,h;try{const p=e==null?void 0:e.membershipPurchase;p!=null&&p.length&&Re(g,p[0].token);const y=e==null?void 0:e.membershipToken;y&&Re(g,y),At(()=>{zt("track","Upsell")});const{saleAction:n,stepPath:w,visitWebsite:M}=d.element.extra;if(!n)if(a.value.funnelNextStep){se();return}else throw new Error("Redirect not handled");if(a.value.orderFormVersion===2){const I=`_pl_${a.value.funnelId}`,T=localStorage.getItem(I);if(T){let r=JSON.parse(T);r.products.push(b.value),r.total+=(o=(t=m.value)==null?void 0:t.order)==null?void 0:o.amount,r.tax=(c=(u=(i=m.value)==null?void 0:i.order)==null?void 0:u.taxSummary)==null?void 0:c.map(J=>{var L;const l=(L=r==null?void 0:r.tax)==null?void 0:L.find(k=>k._id===J._id);return l?{...l,amount:l.amount+J.amount}:J}),Ye(I,JSON.stringify(r))}}else{const I=`_pl_v1_${a.value.funnelId}`,T=localStorage.getItem(I);if(T){let r=JSON.parse(T);r.push((h=(s=d==null?void 0:d.element.extra)==null?void 0:s.productId)==null?void 0:h.value),Ye(I,JSON.stringify(r))}}switch(n.value){case"url":if(M&&M.value&&M.value.url){ge(M.value);break}else throw new Error("Redirect not handled");case"step-path":if(w&&w.value){se(w.value);break}else throw new Error("Redirect not handled");default:if(a.value.funnelNextStep){se();break}else throw new Error("Redirect not handled")}}catch(p){{const y=JSON.parse(localStorage.getItem("_ud")||"{}");console.log(p);const n=ke.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${y==null?void 0:y.id}`)||"")?"We are proccessing your order with the bank. We'll confirm you order after bank's confirmation.":`Order successfully placed! 
 However, Something went wrong while displaying this webpage, please contact the seller.`;alert(n)}_.value=!1;return}}const ae=async()=>{var i,u;a.value.countryList.length===0&&await Wt();const e=Se(()=>{var c;return((c=Kt(pe==null?void 0:pe.value))==null?void 0:c.states.map(s=>({iso:s.code,name:s.name})))??[]});let t=localStorage.getItem("_ud");t&&(t=JSON.parse(t),sessionStorage.setItem("contactResponse",JSON.stringify(t)));const o=t==null?void 0:t.customer_id;if(!o){R.value="Contact not found!";return}if(oe.value&&!V.value){le.value="Invalid Captcha!",C.value=!1,_.value=!1;return}if(ye.value=((i=e.value.find(c=>c.name===(t==null?void 0:t.state)))==null?void 0:i.iso)??"",G.value.contact.shippingAddress.state=ye.value,m.value=await Zt({contactId:o,domain:a.value.domain,pageUrl:a.value.pageUrl,locationId:g,productPreviewList:[{_id:D,qty:1}],store:a.value,subType:Vt.UPSELL,traceId:t==null?void 0:t.traceId,reCaptchaToken:V.value,toZip:t.postal_code,toState:ye.value,toCountry:t.country}),V.value=void 0,(u=m.value)!=null&&u.error){m.value.status===429&&(oe.value=!0),R.value=m.value.message??"Error creating order!",C.value=!1,_.value=!1;return}sessionStorage.setItem("orderResponse",JSON.stringify(m.value))};async function bt(){var e,t,o,i,u,c,s,h,p;try{if(!D)throw new Error("No product Id found for initiating stripe payment");if(R.value="",await ae(),N.value.amount=(t=(e=m.value)==null?void 0:e.order)==null?void 0:t.amount,N.value.currency=te.value.toLowerCase(),N.value.mode=((o=b.value)==null?void 0:o.price.type)==="recurring"?"subscription":"payment",!((u=(i=m.value)==null?void 0:i.order)!=null&&u.amount)&&((c=b.value)==null?void 0:c.price.type)!=="recurring"&&(N.value.mode="setup"),!m.value||(s=m.value)!=null&&s.error)return;let y={};y={altId:g,altType:"location",orderId:m.value.order._id,reCaptchaToken:V.value};const n=JSON.parse(localStorage.getItem("_ud")||"{}");ke.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${n==null?void 0:n.id}`)||"")&&(y.paymentMethodTypes=[Xt.sepa]);const w=await Te(g,(h=m.value.order)==null?void 0:h.contactId);if(!!["klarna","affirm","afterpay_clearpay","amazon_pay","revolut_pay"].includes(w.paymentMethod)){W.value=!0;return}const I=await Y.initiateStripePayment(y);if(!I.success){R.value=I.message||"We're sorry, but something went wrong. Please try again.";return}const{clientSecret:T,paymentMethodId:r}=I;if(T){let z={};if(ke.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${n==null?void 0:n.id}`)||"")?z=await be.value.confirmSepaDebitPayment(T,{payment_method:r}):z=await be.value.confirmCardPayment(T,{payment_method:r,setup_future_usage:"off_session"}),z.error){console.error("Failed to confirm card payment!",z.error),z.error.message&&alert(z.error.message);return}}const{orderId:J,paymentIntentId:l,subscriptionId:L,invoiceId:k,subId:re,txnId:F}=I,Z={altId:g,altType:"location",orderId:J,paymentIntentId:l,subscriptionId:L,invoiceId:k,isAuth:!1,subId:re,txnId:F,attribution:{eventData:fe(),sessionId:_e(g),sessionFingerprint:he(g)}},j=await Y.verifyStripePayment(Z);if(!j.success){R.value=j.message||"We're sorry, but something went wrong. Please try again.";return}await ie(j)}catch(y){if(((p=y==null?void 0:y.response)==null?void 0:p.status)===429){oe.value=!0,C.value=!1,_.value=!1;return}R.value=Xe(y),_.value=!1,console.error(y)}}async function ue(e,t){var o,i,u,c,s;try{if(!D)throw new Error(`No product Id found for initiating ${e||"stripe"} payment`);if(C.value=!0,R.value="",await ae(),!m.value||(o=m.value)!=null&&o.error)return;let h;if((i=m.value)!=null&&i.order._id){h={altId:g,altType:"location",orderId:(u=m.value)==null?void 0:u.order._id,attribution:{eventData:fe(),sessionId:_e(g),sessionFingerprint:he(g)}};let p;switch(e){case st:{p=await Y.authorizeNetOrderPayment(h);break}case nt:{p=await Y.nmiOrderPayment(h);break}case tt:{t&&(h.manualPaymentMethodId=t),p=await Y.customProviderOrderPayment(h);break}case rt:{const y=await jt(g,(c=m.value.order)==null?void 0:c.contactId);if(!y||y==="false"){Fe.value=((s=b.value)==null?void 0:s.price.type)==="recurring"?"subscription":"",W.value=!0,C.value=!1;return}p=await Y.squareOrderPayment({...h,saveCard:!1});break}case at:W.value=!0,C.value=!1;return;default:console.log("Invalid payment provider");break}if(console.error(p),C.value=!1,!p.success){R.value=p.message||"We're sorry, but something went wrong. Please try again.";return}await ie({membershipPurchase:p.membershipPurchase,membershipToken:p.membershipToken})}}catch(h){_.value=!1,C.value=!1,console.error(h),R.value=Xe(h)}}async function St(){if(D)try{const e=Ht(),t={...fe(),fbEventId:e},o=_e(g),i=he(g),u=await et.funnelPayment({fingerprint:ne("msgsndr_id").value,productList:[D],locationId:g,funnelId:vt,stepId:pt,pageId:yt,domain:a.value.domain,pageUrl:a.value.pageUrl,source:"payment_button",submissionType:3,eventData:t,sessionId:o,sessionFingerprint:i,_mp:ne("_mp").value});await ie(u)}catch(e){console.error(e)}finally{_.value=!0}}function Ve(){var t,o,i,u,c;let e="";switch(K){case P.CLICK_TO_CALL:{let s=(t=d.element.extra[me.PHONE_NUMBER])==null?void 0:t.value;s=s==null?void 0:s.replace("tel:",""),e=`tel:${s}`;break}case P.CLICK_TO_SMS:{let s=(o=d.element.extra[me.PHONE_NUMBER])==null?void 0:o.value;s=s==null?void 0:s.replace("sms:",""),e=`sms:${s}`;break}case P.GO_TO_URL:{e=B==null?void 0:B.url,e=we(e),e&&!e.startsWith("#")&&!/^https?:/.test(e)&&(e=`https://${e}`),Ie.value=B!=null&&B.newTab?"_blank":"";break}case P.GO_TO_STEP:{const s=(c=(u=(i=d.element)==null?void 0:i.extra)==null?void 0:u.stepPath)==null?void 0:c.value;e=ct(s,!1);break}}return e}async function Et(e){if(a.value.videoExistsInPage&&Le.$emit("handle-redirect"),K===P.GO_TO_STEP){const t=d.element.extra.stepPath.value;dt(e,t)}}function wt(){W.value=!1,_.value=!1,U.value=!1}async function Tt(e){var o,i,u,c,s;if(!D)throw new Error("No product Id found for initiating stripe payment");if(R.value="",await ae(),!((i=(o=m.value)==null?void 0:o.order)!=null&&i._id&&e===A.CUSTOM_PROVIDER))return;const t={source:"order",sourceId:(c=(u=m==null?void 0:m.value)==null?void 0:u.order)==null?void 0:c._id,sourceDetails:m.value.order,traceId:m.value.traceId,extra:{attribution:{eventData:fe(),sessionId:_e(g),sessionFingerprint:he(g)}},captchaToken:V.value};(s=Ue.value)==null||s.confirmPayment(t)}return(e,t)=>{const o=ta,i=aa,u=ra;return S(),O(Nt,null,[ve.value?(S(),O("a",{key:0,id:`${v.element.id}_btn`,href:Pe.value,target:Ie.value,rel:Ie.value==="_blank"?"noreferrer noopener":void 0,"data-animation-class":E(Ce),class:Ze([v.classStyles,"text-center"]),onClick:t[0]||(t[0]=c=>Et(c)),"aria-label":$e()},[$("span",{style:ce(_.value?"visibility: hidden;":""),class:"main-heading-group"},[v.element.extra.icon!==""?(S(),O("span",sa)):x("",!0),$("span",oa,Q(E(X)),1),v.element.extra.icon!==""?(S(),O("span",la)):x("",!0)],4),v.element.extra.subText&&v.element.extra.subText.value?(S(),O("span",{key:0,style:ce(_.value?"visibility: hidden;":""),class:"sub-heading-group text-xs font-sans"},[$("span",ia,Q(E(ee)),1)],4)):x("",!0)],10,na)):x("",!0),oe.value?(S(),O("section",ua,[Ee(o,{onExpired:t[1]||(t[1]=()=>V.value=""),onVerify:gt}),le.value?(S(),O("p",ca,Q(le.value),1)):x("",!0)])):x("",!0),ve.value?x("",!0):(S(),O("button",{key:2,disabled:_.value||E(q)&&U.value,"data-animation-class":E(Ce),id:`${v.element.id}_btn`,style:ce(_.value||E(q)&&U.value?"cursor: default;":""),class:Ze([v.classStyles]),onClick:It,"aria-label":$e()},[$("div",{style:ce(_.value||E(q)&&U.value?"visibility: hidden;":""),class:"main-heading-group"},[v.element.extra.icon!==""?(S(),O("div",ma)):x("",!0),$("div",va,Q(E(X)),1),v.element.extra.icon!==""?(S(),O("div",pa)):x("",!0)],4),v.element.extra.subText&&v.element.extra.subText.value?(S(),O("div",{key:0,style:ce(_.value||E(q)&&U.value?"visibility: hidden;":""),class:"text-xs font-sans"},[$("div",ya,Q(E(ee)),1)],4)):x("",!0),xt($("div",fa,[Ee(ea,{loading:_.value||E(q)&&U.value,color:"rgb(255, 255, 255)",size:"30px"},null,8,["loading"])],512),[[Ct,_.value||E(q)&&U.value]])],14,da)),$("div",null,[Me.value&&E(a).funnelPageId&&E(q)?(S(),O("section",_a,[$("div",{id:`${v.element.id}-payment-form`,class:"payment-form"},[Ee(i,{id:`${v.element.id}-payment-element`,ref_key:"confirmPaymentRef",ref:Ue,customProviderProps:G.value,onPaymentCallback:_t},null,8,["id","customProviderProps"]),H.value?(S(),O("div",ga,[Pa,Rt(" "+Q(H.value),1)])):x("",!0)],8,ha)])):x("",!0)]),R.value?(S(),O("div",Ia,Q(R.value),1)):x("",!0),W.value?(S(),Lt(u,{key:4,extra:d.element.extra,stripeOptions:N.value,order:m.value,traceId:m.value.traceId,element:d.element,styles:v.classStyles,squarePaymentMode:Fe.value,showPaypal:Ne.value&&te.value,paymentProps:{currency:te.value,mode:E(ft)?"subscription":"onetime"},onClosePaymentElementModal:wt},null,8,["extra","stripeOptions","order","traceId","element","styles","squarePaymentMode","showPaypal","paymentProps"])):x("",!0)],64)}}});export{Ha as default};
