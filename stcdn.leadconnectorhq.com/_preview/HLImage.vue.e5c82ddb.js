import{d as w,a as r,b as d,f as e,e as n,n as o,m as y,P as q}from"./entry.7aa2e1a5.js";import{ar as x}from"./constants.fdd6dcf3.js";import{I as u}from"./HLConst.414de9c2.js";const z=["src","alt","data-animation-class"],b=["srcset"],S=["srcset"],C=["srcset"],L=["srcset"],N=["srcset"],I=["src","alt","data-animation-class"],T=["src","alt","data-animation-class"],E=w({__name:"HLImage",props:{url:{type:String,required:!0},format:{type:String,default:"webp"},quality:{type:Number,default:80},alt:{type:String},size:{type:Number},width:{type:[String,Number],required:!1,default:"auto"},height:{type:String,required:!1,default:"auto"},classList:{type:Array,required:!1,default:[]},inlineSize:{type:Boolean,required:!1,default:!0},isThumbnail:{type:Boolean,required:!1,default:!1},animationClasses:{type:String,required:!1,default:""}},emits:["load"],setup(t,{emit:m}){const i=t,c=q(),s=c.public.IMAGE_CDN,g=c.public.IMAGE_CDN_WHITELIST,f=()=>{try{const l=new URL(i.url);return x(i.url)?!1:g.includes(l.hostname)}catch{return!1}},h=()=>{let l;i.height==="full"?l="100%":i.height==="auto"?l=void 0:l=`${i.height}px !important`;let a;if(i.width==="full"?a="100%":i.width==="auto"?a=void 0:a=`${i.width}px !important`,i.inlineSize)return{height:l,width:a,objectFit:i.isThumbnail?"cover":"unset"}};return(l,a)=>t.size&&f()?(r(),d("img",{key:0,src:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${t.size}/u_${t.url}`,alt:t.alt,class:"w-100 hl-optimized-fixed-size mw-100",onLoad:a[0]||(a[0]=$=>m("load")),loading:"lazy","data-animation-class":t.animationClasses},null,40,z)):!t.size&&f()?(r(),d("picture",{key:1,class:o(["hl-image-picture",t.isThumbnail?"h-100 w-100":""]),style:{display:"block"}},[n("source",{media:"(max-width:900px) and (min-width: 768px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(u).large}/u_${t.url}`},null,8,b),n("source",{media:"(max-width:768px) and (min-width: 640px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(u).medium}/u_${t.url}`},null,8,S),n("source",{media:"(max-width:640px) and (min-width: 480px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(u).tablet}/u_${t.url}`},null,8,C),n("source",{media:"(max-width:480px) and (min-width: 320px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(u).small}/u_${t.url}`},null,8,L),n("source",{media:"(max-width:320px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(u).xsmall}/u_${t.url}`},null,8,N),n("img",{src:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(u).xlarge}/u_${t.url}`,alt:t.alt,class:o(["hl-optimized mw-100",t.width?t.classList:[...t.classList,"w-100"]]),style:y(h()),onLoad:a[1]||(a[1]=$=>m("load")),loading:"lazy","data-animation-class":t.animationClasses},null,46,I)],2)):(r(),d("img",{key:2,class:o(["hl-un-optimized mw-100",[...t.classList,t.isThumbnail?"h-100 w-100":""]]),src:t.url,alt:t.alt,onLoad:a[2]||(a[2]=$=>m("load")),style:y(h()),loading:"lazy","data-animation-class":t.animationClasses},null,46,T))}});export{E as _};
